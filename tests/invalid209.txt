[[s0, [s3, s2, s1, s0]],
 [s1, [s1, s0]],
 [s2, [s1, s2, s0, s3]],
 [s3, [s2, s3, s1]]].

[[s0, []],
 [s1, [r]],
 [s2, [q, r]],
 [s3, [p, q]]].

s0.

ef(ef(ag(p))).

